@using Microsoft.Extensions.Options
@inject IOptions<TGJBookStoreWithIdentity.Models.StripeSettings> Stripe
@{
    Layout = "_Layout";
}

@*forum from stripe - from strip website - TKS *@
<div class="text-center">
    @*call action from payment controller using POST - using stripe JS - TKS*@
    <form asp-action="Processing" asp-controller="Payment" method="POST">
        <article>
            <label>Amount: $ @Math.Round(@ViewBag.DollarAmount, 2)</label>
            <br />
            <label>Email will be sent too: @User.Identity?.Name!</label>
            <br />
            <br />
        </article>
        @*script for stripe checkout - TKS*@
        <script src="//Checkout.stripe.com/v2/checkout.js"
                Stripe.setPublishableKey='pk_test_51LzZChEVtaslvauzknFyJ94J2bE83UCWtWm7xw2uoUTzLLpebLzyq9dv6SYxPnVdWnFfxYyBwp0Hx9fiQtViHj7400mybaz54b'
                class="stripe-button"
                @*sending key*@
                data-key="@Stripe.Value.PublishableKey"
                data-locale="auto"
                data-description="Sample Charge">
        </script>
    </form>
</div>
@*
https://js.stripe.com/v3/"*@